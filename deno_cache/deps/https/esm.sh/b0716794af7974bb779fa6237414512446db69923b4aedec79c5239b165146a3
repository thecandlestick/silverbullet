/* esm.sh - esbuild bundle(lib0@0.2.74/buffer) deno production */
import __Process$ from "https://deno.land/std@0.177.0/node/process.ts";import  { Buffer as __Buffer$ } from "https://deno.land/std@0.177.0/node/buffer.ts";var Kt=Array.from;var P=Array.isArray;var O=String.fromCharCode,Qt=String.fromCodePoint,pt=t=>t.toLowerCase(),ft=/^\s*/g,lt=t=>t.replace(ft,""),ut=/([A-Z])/g,A=(t,s)=>lt(t.replace(ut,r=>`${s}${pt(r)}`));var ht=t=>{let s=unescape(encodeURIComponent(t)),r=s.length,e=new Uint8Array(r);for(let o=0;o<r;o++)e[o]=s.codePointAt(o);return e},c=typeof TextEncoder<"u"?new TextEncoder:null,xt=t=>c.encode(t),j=c?xt:ht;var a=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});a&&a.decode(new Uint8Array).length===1&&(a=null);var m=()=>new Map;var B=t=>t===void 0?null:t;var T=class{constructor(){this.map=new Map}setItem(s,r){this.map.set(s,r)}getItem(s){return this.map.get(s)}},R=new T,mt=!0;try{typeof localStorage<"u"&&(R=localStorage,mt=!1)}catch{}var q=R;var G=(t,s)=>s.includes(t);var p=typeof __Process$<"u"&&__Process$.release&&/node|io\.js/.test(__Process$.release.name),C=typeof document<"u"&&typeof document<"u"&&!p,dt=typeof navigator<"u"?/Mac/.test(navigator.platform):!1,i,Ut=[],At=()=>{if(i===void 0)if(p){i=m();let t=__Process$.argv,s=null;for(let r=0;r<t.length;r++){let e=t[r];e[0]==="-"?(s!==null&&i.set(s,""),s=e):s!==null?(i.set(s,e),s=null):Ut.push(e)}s!==null&&i.set(s,"")}else typeof location=="object"?(i=m(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){let[s,r]=t.split("=");i.set(`--${A(s,"-")}`,r),i.set(`-${A(s,"-")}`,r)}})):i=m();return i},I=t=>At().has(t);var S=t=>p?B(__Process$.env[t.toUpperCase()]):B(q.getItem(t));var Bt=t=>I("--"+t)||S(t)!==null,ts=Bt("production"),z=p&&G(__Process$.env.FORCE_COLOR,["true","1","2"]),ss=!I("no-colors")&&(!p||__Process$.stdout.isTTY||z)&&(!p||I("color")||z||S("COLORTERM")!==null||(S("TERM")||"").includes("color"));var f=Math.floor;var Z=Math.abs;var X=(t,s)=>t<s?t:s,N=(t,s)=>t>s?t:s,rs=Number.isNaN;var $=t=>t!==0?t<0:1/t<0;var E=Number.MAX_SAFE_INTEGER,es=Number.MIN_SAFE_INTEGER,os=1<<31;var D=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&f(t)===t),ns=Number.isNaN,is=Number.parseInt;var F=class{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}},Q=()=>new F,St=t=>{let s=t.cpos;for(let r=0;r<t.bufs.length;r++)s+=t.bufs[r].length;return s};var d=t=>{let s=new Uint8Array(St(t)),r=0;for(let e=0;e<t.bufs.length;e++){let o=t.bufs[e];s.set(o,r),r+=o.length}return s.set(g(t.cbuf.buffer,0,t.cpos),r),s},Ct=(t,s)=>{let r=t.cbuf.length;r-t.cpos<s&&(t.bufs.push(g(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(N(r,s)*2),t.cpos=0)},n=(t,s)=>{let r=t.cbuf.length;t.cpos===r&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(r*2),t.cpos=0),t.cbuf[t.cpos++]=s};var x=(t,s)=>{for(;s>127;)n(t,128|127&s),s=f(s/128);n(t,127&s)},Nt=(t,s)=>{let r=$(s);for(r&&(s=-s),n(t,(s>63?128:0)|(r?64:0)|63&s),s=f(s/64);s>0;)n(t,(s>127?128:0)|127&s),s=f(s/128)},L=new Uint8Array(3e4),Et=L.length/3,Ft=(t,s)=>{if(s.length<Et){let r=c.encodeInto(s,L).written||0;x(t,r);for(let e=0;e<r;e++)n(t,L[e])}else tt(t,j(s))},Lt=(t,s)=>{let r=unescape(encodeURIComponent(s)),e=r.length;x(t,e);for(let o=0;o<e;o++)n(t,r.codePointAt(o))},J=c&&c.encodeInto?Ft:Lt;var kt=(t,s)=>{let r=t.cbuf.length,e=t.cpos,o=X(r-e,s.length),u=s.length-o;t.cbuf.set(s.subarray(0,o),e),t.cpos+=o,u>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(N(r*2,u)),t.cbuf.set(s.subarray(o)),t.cpos=u)},tt=(t,s)=>{x(t,s.byteLength),kt(t,s)},k=(t,s)=>{Ct(t,s);let r=new DataView(t.cbuf.buffer,t.cpos,s);return t.cpos+=s,r},Mt=(t,s)=>k(t,4).setFloat32(0,s,!1),_t=(t,s)=>k(t,8).setFloat64(0,s,!1),Vt=(t,s)=>k(t,8).setBigInt64(0,s,!1);var K=new DataView(new ArrayBuffer(4)),vt=t=>(K.setFloat32(0,t),K.getFloat32(0)===t),b=(t,s)=>{switch(typeof s){case"string":n(t,119),J(t,s);break;case"number":D(s)&&Z(s)<=2147483647?(n(t,125),Nt(t,s)):vt(s)?(n(t,124),Mt(t,s)):(n(t,123),_t(t,s));break;case"bigint":n(t,122),Vt(t,s);break;case"object":if(s===null)n(t,126);else if(P(s)){n(t,117),x(t,s.length);for(let r=0;r<s.length;r++)b(t,s[r])}else if(s instanceof Uint8Array)n(t,116),tt(t,s);else{n(t,118);let r=Object.keys(s);x(t,r.length);for(let e=0;e<r.length;e++){let o=r[e];J(t,o),b(t,s[o])}}break;case"boolean":n(t,s?120:121);break;default:n(t,127)}};var M=t=>new Error(t);var et=M("Unexpected end of array"),ot=M("Integer out of Range"),_=class{constructor(s){this.arr=s,this.pos=0}},nt=t=>new _(t);var jt=(t,s)=>{let r=g(t.arr.buffer,t.pos+t.arr.byteOffset,s);return t.pos+=s,r},it=t=>jt(t,w(t));var V=t=>t.arr[t.pos++];var w=t=>{let s=0,r=1,e=t.arr.length;for(;t.pos<e;){let o=t.arr[t.pos++];if(s=s+(o&127)*r,r*=128,o<128)return s;if(s>E)throw ot}throw et},Rt=t=>{let s=t.arr[t.pos++],r=s&63,e=64,o=(s&64)>0?-1:1;if(!(s&128))return o*r;let u=t.arr.length;for(;t.pos<u;){if(s=t.arr[t.pos++],r=r+(s&127)*e,e*=128,s<128)return o*r;if(r>E)throw ot}throw et};var qt=t=>{let s=w(t);if(s===0)return"";{let r=String.fromCodePoint(V(t));if(--s<100)for(;s--;)r+=String.fromCodePoint(V(t));else for(;s>0;){let e=s<1e4?s:1e4,o=t.arr.subarray(t.pos,t.pos+e);t.pos+=e,r+=String.fromCodePoint.apply(null,o),s-=e}return decodeURIComponent(escape(r))}},Gt=t=>a.decode(it(t)),rt=a?Gt:qt;var v=(t,s)=>{let r=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,s);return t.pos+=s,r},zt=t=>v(t,4).getFloat32(0,!1),Zt=t=>v(t,8).getFloat64(0,!1),Xt=t=>v(t,8).getBigInt64(0,!1);var $t=[t=>{},t=>null,Rt,zt,Zt,Xt,t=>!1,t=>!0,rt,t=>{let s=w(t),r={};for(let e=0;e<s;e++){let o=rt(t);r[o]=U(t)}return r},t=>{let s=w(t),r=[];for(let e=0;e<s;e++)r.push(U(t));return r},it],U=t=>$t[127-V(t)](t);var at=t=>new Uint8Array(t),g=(t,s,r)=>new Uint8Array(t,s,r),cs=t=>new Uint8Array(t),Dt=t=>{let s="";for(let r=0;r<t.byteLength;r++)s+=O(t[r]);return btoa(s)},Wt=t=>__Buffer$.from(t.buffer,t.byteOffset,t.byteLength).toString("base64"),Yt=t=>{let s=atob(t),r=at(s.length);for(let e=0;e<s.length;e++)r[e]=s.charCodeAt(e);return r},Jt=t=>{let s=__Buffer$.from(t,"base64");return new Uint8Array(s.buffer,s.byteOffset,s.byteLength)},ps=C?Dt:Wt,fs=C?Yt:Jt,ls=t=>{let s=at(t.byteLength);return s.set(t),s},us=t=>{let s=Q();return b(s,t),d(s)},hs=t=>U(nt(t));export{ls as copyUint8Array,cs as createUint8ArrayFromArrayBuffer,at as createUint8ArrayFromLen,g as createUint8ArrayViewFromArrayBuffer,hs as decodeAny,us as encodeAny,fs as fromBase64,ps as toBase64};
//# sourceMappingURL=buffer.js.map