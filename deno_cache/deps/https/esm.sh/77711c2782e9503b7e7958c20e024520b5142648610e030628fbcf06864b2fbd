/* esm.sh - esbuild bundle(fuzzysort@2.0.1) deno production */
var ce=Object.create;var O=Object.defineProperty;var ue=Object.getOwnPropertyDescriptor;var _e=Object.getOwnPropertyNames;var he=Object.getPrototypeOf,xe=Object.prototype.hasOwnProperty;var we=(h,u)=>()=>(u||h((u={exports:{}}).exports,u),u.exports),Le=(h,u)=>{for(var L in u)O(h,L,{get:u[L],enumerable:!0})},D=(h,u,L,M)=>{if(u&&typeof u=="object"||typeof u=="function")for(let y of _e(u))!xe.call(h,y)&&y!==L&&O(h,y,{get:()=>u[y],enumerable:!(M=ue(u,y))||M.enumerable});return h},P=(h,u,L)=>(D(h,u,"default"),L&&D(L,u,"default")),re=(h,u,L)=>(L=h!=null?ce(he(h)):{},D(u||!h||!h.__esModule?O(L,"default",{value:h,enumerable:!0}):L,h));var U=we((ae,H)=>{((h,u)=>{typeof define=="function"&&define.amd?define([],u):typeof H=="object"&&H.exports?H.exports=u():h.fuzzysort=u()})(ae,h=>{var u=(r,e)=>{if(r=="farzher")return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!r||!e)return g;var a=R(r);A(e)||(e=k(e));var n=a.bitflags;return(n&e._bitflags)!==n?g:F(a,e)},L=(r,e,a)=>{if(r=="farzher")return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:e?e[0]:g}];if(!r)return a&&a.all?fe(r,e,a):Z;var n=R(r),f=n.bitflags,t=n.containsSpace,v=a&&a.threshold||B,i=a&&a.limit||Y,l=0,s=0,o=e.length;if(a&&a.key)for(var x=a.key,_=0;_<o;++_){var p=e[_],d=X(p,x);if(d&&(A(d)||(d=k(d)),(f&d._bitflags)===f)){var w=F(n,d);w!==g&&(w.score<v||(w={target:w.target,_targetLower:"",_targetLowerCodes:g,_nextBeginningIndexes:g,_bitflags:0,score:w.score,_indexes:w._indexes,obj:p},l<i?(I.add(w),++l):(++s,w.score>I.peek().score&&I.replaceTop(w))))}}else if(a&&a.keys)for(var q=a.scoreFn||oe,E=a.keys,z=E.length,_=0;_<o;++_){for(var p=e[_],S=new Array(z),c=0;c<z;++c){var x=E[c],d=X(p,x);if(!d){S[c]=g;continue}A(d)||(d=k(d)),(f&d._bitflags)!==f?S[c]=g:S[c]=F(n,d)}S.obj=p;var T=q(S);T!==g&&(T<v||(S.score=T,l<i?(I.add(S),++l):(++s,T>I.peek().score&&I.replaceTop(S))))}else for(var _=0;_<o;++_){var d=e[_];if(d&&(A(d)||(d=k(d)),(f&d._bitflags)===f)){var w=F(n,d);w!==g&&(w.score<v||(l<i?(I.add(w),++l):(++s,w.score>I.peek().score&&I.replaceTop(w))))}}if(l===0)return Z;for(var b=new Array(l),_=l-1;_>=0;--_)b[_]=I.poll();return b.total=l+s,b},M=(r,e,a)=>{if(typeof e=="function")return y(r,e);if(r===g)return g;e===void 0&&(e="<b>"),a===void 0&&(a="</b>");var n="",f=0,t=!1,v=r.target,i=v.length,l=r._indexes;l=l.slice(0,l.len).sort((x,_)=>x-_);for(var s=0;s<i;++s){var o=v[s];if(l[f]===s){if(++f,t||(t=!0,n+=e),f===l.length){n+=o+a+v.substr(s+1);break}}else t&&(t=!1,n+=a);n+=o}return n},y=(s,e)=>{if(s===g)return g;var a=s.target,n=a.length,f=s._indexes;f=f.slice(0,f.len).sort((_,p)=>_-p);for(var t="",v=0,i=0,l=!1,s=[],o=0;o<n;++o){var x=a[o];if(f[i]===o){if(++i,l||(l=!0,s.push(t),t=""),i===f.length){t+=x,s.push(e(t,v++)),t="",s.push(a.substr(o+1));break}}else l&&(l=!1,s.push(e(t,v++)),t="");t+=x}return s},ie=r=>r._indexes.slice(0,r._indexes.len).sort((e,a)=>e-a),J=r=>{typeof r!="string"&&(r="");var e=K(r);return{target:r,_targetLower:e._lower,_targetLowerCodes:e.lowerCodes,_nextBeginningIndexes:g,_bitflags:e.bitflags,score:g,_indexes:[0],obj:g}},j=r=>{typeof r!="string"&&(r=""),r=r.trim();var e=K(r),a=[];if(e.containsSpace){var n=r.split(/\s+/);n=[...new Set(n)];for(var f=0;f<n.length;f++)if(n[f]!==""){var t=K(n[f]);a.push({lowerCodes:t.lowerCodes,_lower:n[f].toLowerCase(),containsSpace:!1})}}return{lowerCodes:e.lowerCodes,bitflags:e.bitflags,containsSpace:e.containsSpace,_lower:e._lower,spaceSearches:a}},k=r=>{if(r.length>999)return J(r);var e=Q.get(r);return e!==void 0||(e=J(r),Q.set(r,e)),e},R=r=>{if(r.length>999)return j(r);var e=W.get(r);return e!==void 0||(e=j(r),W.set(r,e)),e},fe=(r,e,a)=>{var n=[];n.total=e.length;var f=a&&a.limit||Y;if(a&&a.key)for(var t=0;t<e.length;t++){var v=e[t],i=X(v,a.key);if(i){A(i)||(i=k(i)),i.score=B,i._indexes.len=0;var l=i;if(l={target:l.target,_targetLower:"",_targetLowerCodes:g,_nextBeginningIndexes:g,_bitflags:0,score:i.score,_indexes:g,obj:v},n.push(l),n.length>=f)return n}}else if(a&&a.keys)for(var t=0;t<e.length;t++){for(var v=e[t],s=new Array(a.keys.length),o=a.keys.length-1;o>=0;--o){var i=X(v,a.keys[o]);if(!i){s[o]=g;continue}A(i)||(i=k(i)),i.score=B,i._indexes.len=0,s[o]=i}if(s.obj=v,s.score=B,n.push(s),n.length>=f)return n}else for(var t=0;t<e.length;t++){var i=e[t];if(i&&(A(i)||(i=k(i)),i.score=B,i._indexes.len=0,n.push(i),n.length>=f))return n}return n},F=(r,e)=>{if(r.containsSpace)return ve(r,e);for(var a=r._lower,n=r.lowerCodes,f=n[0],t=e._targetLowerCodes,v=n.length,i=t.length,x=0,l=0,s=0;;){var o=f===t[l];if(o){if(C[s++]=l,++x,x===v)break;f=n[x]}if(++l,l>=i)return g}var x=0,_=!1,p=0,d=e._nextBeginningIndexes;d===g&&(d=e._nextBeginningIndexes=le(e.target));var w=l=C[0]===0?0:d[C[0]-1],q=0;if(l!==i)for(;;)if(l>=i){if(x<=0||(++q,q>200))break;--x;var E=V[--p];l=d[E]}else{var o=n[x]===t[l];if(o){if(V[p++]=l,++x,x===v){_=!0;break}++l}else l=d[l]}var z=e._targetLower.indexOf(a,C[0]),S=~z;if(S&&!_)for(var c=0;c<s;++c)C[c]=z+c;var T=!1;S&&(T=e._nextBeginningIndexes[z-1]===z);{if(_)var b=V,$=p;else var b=C,$=s;for(var m=0,ee=0,c=1;c<v;++c)b[c]-b[c-1]!==1&&(m-=b[c],++ee);var de=b[v-1]-b[0]-(v-1);if(m-=(12+de)*ee,b[0]!==0&&(m-=b[0]*10),!_)m*=1e3;else{for(var G=1,c=d[0];c<i;c=d[c])++G;G>24&&(m*=(G-24)*10)}S&&(m/=10),T&&(m/=10),m-=i-v,e.score=m;for(var c=0;c<$;++c)e._indexes[c]=b[c];return e._indexes.len=$,e}},ve=(r,e)=>{for(var a=new Set,n=0,f=g,t=0,v=r.spaceSearches,s=0;s<v.length;++s){var i=v[s];if(f=F(i,e),f===g)return g;n+=f.score,f._indexes[0]<t&&(n-=t-f._indexes[0]),t=f._indexes[0];for(var l=0;l<f._indexes.len;++l)a.add(f._indexes[l])}f.score=n;var s=0;for(let o of a)f._indexes[s++]=o;return f._indexes.len=s,f},K=r=>{for(var e=r.length,a=r.toLowerCase(),n=[],f=0,t=!1,v=0;v<e;++v){var i=n[v]=a.charCodeAt(v);if(i===32){t=!0;continue}var l=i>=97&&i<=122?i-97:i>=48&&i<=57?26:i<=127?30:31;f|=1<<l}return{lowerCodes:n,bitflags:f,containsSpace:t,_lower:a}},te=r=>{for(var e=r.length,a=[],n=0,f=!1,t=!1,v=0;v<e;++v){var i=r.charCodeAt(v),l=i>=65&&i<=90,s=l||i>=97&&i<=122||i>=48&&i<=57,o=l&&!f||!t||!s;f=l,t=s,o&&(a[n++]=v)}return a},le=r=>{for(var e=r.length,a=te(r),n=[],f=a[0],t=0,v=0;v<e;++v)f>v?n[v]=f:(f=a[++t],n[v]=f===void 0?e:f);return n},se=()=>{Q.clear(),W.clear(),C=[],V=[]},Q=new Map,W=new Map,C=[],V=[],oe=r=>{for(var e=B,a=r.length,n=0;n<a;++n){var f=r[n];if(f!==g){var t=f.score;t>e&&(e=t)}}return e===B?g:e},X=(r,e)=>{var a=r[e];if(a!==void 0)return a;var n=e;Array.isArray(e)||(n=e.split("."));for(var f=n.length,t=-1;r&&++t<f;)r=r[n[t]];return r},A=r=>typeof r=="object",Y=1/0,B=-Y,Z=[];Z.total=0;var g=null,ge=r=>{var e=[],a=0,n={},f=t=>{for(var v=0,i=e[v],l=1;l<a;){var s=l+1;v=l,s<a&&e[s].score<e[l].score&&(v=s),e[v-1>>1]=e[v],l=1+(v<<1)}for(var o=v-1>>1;v>0&&i.score<e[o].score;o=(v=o)-1>>1)e[v]=e[o];e[v]=i};return n.add=t=>{var v=a;e[a++]=t;for(var i=v-1>>1;v>0&&t.score<e[i].score;i=(v=i)-1>>1)e[v]=e[i];e[v]=t},n.poll=t=>{if(a!==0){var v=e[0];return e[0]=e[--a],f(),v}},n.peek=t=>{if(a!==0)return e[0]},n.replaceTop=t=>{e[0]=t,f()},n},I=ge();return{single:u,go:L,highlight:M,prepare:J,indexes:ie,cleanup:se}})});var N={};Le(N,{default:()=>pe});var be=re(U());P(N,re(U()));var{default:ne,...Se}=be,pe=ne!==void 0?ne:Se;export{pe as default};
//# sourceMappingURL=fuzzysort.mjs.map